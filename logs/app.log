2025-07-10 19:31:22 [INFO]: ðŸ”— Intentando conectar a la base de datos...
2025-07-10 19:31:22 [INFO]: Nueva conexiÃ³n establecida con la base de datos
2025-07-10 19:31:22 [WARN]: ConexiÃ³n con la base de datos cerrada
2025-07-10 19:31:22 [INFO]: Nueva conexiÃ³n establecida con la base de datos
2025-07-10 19:31:22 [SQL]: Executing (default): SELECT 1+1 AS result ([object Object]ms)
2025-07-10 19:31:22 [INFO]: âœ… ConexiÃ³n a MySQL establecida correctamente
2025-07-10 19:31:22 [INFO]: âœ… ConexiÃ³n a la base de datos establecida
2025-07-10 19:31:22 [INFO]: ðŸ§© Asociaciones de modelos definidas
2025-07-10 19:31:22 [SQL]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'roles' AND TABLE_SCHEMA = 'gym_db' ([object Object]ms)
2025-07-10 19:31:22 [SQL]: Executing (default): SHOW FULL COLUMNS FROM `roles`; ([object Object]ms)
2025-07-10 19:31:22 [INFO]: Nueva conexiÃ³n establecida con la base de datos
2025-07-10 19:31:22 [SQL]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='gym_db' AND REFERENCED_TABLE_NAME IS NOT NULL; ([object Object]ms)
2025-07-10 19:31:22 [SQL]: Executing (default): ALTER TABLE `roles` CHANGE `nombre` `nombre` VARCHAR(50) NOT NULL UNIQUE; ([object Object]ms)
2025-07-10 19:31:22 [SQL]: Executing (default): ALTER TABLE `roles` CHANGE `descripcion` `descripcion` VARCHAR(255); ([object Object]ms)
2025-07-10 19:31:22 [SQL]: Executing (default): ALTER TABLE `roles` CHANGE `created_at` `created_at` DATETIME NOT NULL; ([object Object]ms)
2025-07-10 19:31:22 [SQL]: Executing (default): ALTER TABLE `roles` CHANGE `updated_at` `updated_at` DATETIME NOT NULL; ([object Object]ms)
2025-07-10 19:31:22 [SQL]: Executing (default): SHOW INDEX FROM `roles` ([object Object]ms)
2025-07-10 19:31:22 [SQL]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'usuarios' AND TABLE_SCHEMA = 'gym_db' ([object Object]ms)
2025-07-10 19:31:22 [SQL]: Executing (default): SHOW FULL COLUMNS FROM `usuarios`; ([object Object]ms)
2025-07-10 19:31:22 [SQL]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'usuarios' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='gym_db' AND REFERENCED_TABLE_NAME IS NOT NULL; ([object Object]ms)
2025-07-10 19:31:22 [SQL]: Executing (default): ALTER TABLE `usuarios` CHANGE `nombre_usuario` `nombre_usuario` VARCHAR(100) NOT NULL; ([object Object]ms)
2025-07-10 19:31:22 [SQL]: Executing (default): ALTER TABLE `usuarios` CHANGE `correo` `correo` VARCHAR(100) NOT NULL UNIQUE; ([object Object]ms)
2025-07-10 19:31:22 [SQL]: Executing (default): ALTER TABLE `usuarios` CHANGE `contraseÃ±a` `contraseÃ±a` VARCHAR(255) NOT NULL; ([object Object]ms)
2025-07-10 19:31:22 [SQL]: Executing (default): ALTER TABLE `usuarios` CHANGE `estado` `estado` TINYINT(1) DEFAULT true; ([object Object]ms)
2025-07-10 19:31:22 [SQL]: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='usuarios' AND constraint_name = 'usuarios_ibfk_1' AND TABLE_SCHEMA = 'gym_db'; ([object Object]ms)
2025-07-10 19:31:22 [SQL]: Executing (default): ALTER TABLE `usuarios` DROP FOREIGN KEY `usuarios_ibfk_1`; ([object Object]ms)
2025-07-10 19:31:22 [SQL]: Executing (default): ALTER TABLE `usuarios` ADD FOREIGN KEY (`rol_id`) REFERENCES `roles` (`id`) ON DELETE RESTRICT ON UPDATE CASCADE; ([object Object]ms)
2025-07-10 19:31:22 [SQL]: Executing (default): SHOW INDEX FROM `usuarios` ([object Object]ms)
2025-07-10 19:31:22 [SQL]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'configuracion_sitio' AND TABLE_SCHEMA = 'gym_db' ([object Object]ms)
2025-07-10 19:31:22 [SQL]: Executing (default): SHOW FULL COLUMNS FROM `configuracion_sitio`; ([object Object]ms)
2025-07-10 19:31:22 [SQL]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'configuracion_sitio' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='gym_db' AND REFERENCED_TABLE_NAME IS NOT NULL; ([object Object]ms)
2025-07-10 19:31:22 [SQL]: Executing (default): ALTER TABLE `configuracion_sitio` CHANGE `mision` `mision` TEXT NOT NULL; ([object Object]ms)
2025-07-10 19:31:22 [SQL]: Executing (default): ALTER TABLE `configuracion_sitio` CHANGE `vision` `vision` TEXT NOT NULL; ([object Object]ms)
2025-07-10 19:31:22 [SQL]: Executing (default): ALTER TABLE `configuracion_sitio` CHANGE `objetivos` `objetivos` TEXT NOT NULL; ([object Object]ms)
2025-07-10 19:31:22 [SQL]: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='configuracion_sitio' AND constraint_name = 'configuracion_sitio_ibfk_1' AND TABLE_SCHEMA = 'gym_db'; ([object Object]ms)
2025-07-10 19:31:22 [SQL]: Executing (default): ALTER TABLE `configuracion_sitio` DROP FOREIGN KEY `configuracion_sitio_ibfk_1`; ([object Object]ms)
2025-07-10 19:31:22 [SQL]: Executing (default): ALTER TABLE `configuracion_sitio` ADD FOREIGN KEY (`creado_por`) REFERENCES `usuarios` (`id_usuario`) ON DELETE SET NULL ON UPDATE CASCADE; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): SHOW INDEX FROM `configuracion_sitio` ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'membresias' AND TABLE_SCHEMA = 'gym_db' ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): SHOW FULL COLUMNS FROM `membresias`; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'membresias' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='gym_db' AND REFERENCED_TABLE_NAME IS NOT NULL; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): ALTER TABLE `membresias` CHANGE `nombre` `nombre` VARCHAR(100) NOT NULL UNIQUE; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): ALTER TABLE `membresias` CHANGE `descripcion` `descripcion` TEXT; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): ALTER TABLE `membresias` CHANGE `precio` `precio` DECIMAL(10,2) NOT NULL; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): ALTER TABLE `membresias` CHANGE `duracion_dias` `duracion_dias` INTEGER NOT NULL; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): SHOW INDEX FROM `membresias` ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'clientes' AND TABLE_SCHEMA = 'gym_db' ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): SHOW FULL COLUMNS FROM `clientes`; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'clientes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='gym_db' AND REFERENCED_TABLE_NAME IS NOT NULL; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): ALTER TABLE `clientes` CHANGE `nombre` `nombre` VARCHAR(100) NOT NULL; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): ALTER TABLE `clientes` CHANGE `apellido` `apellido` VARCHAR(100) NOT NULL; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): ALTER TABLE `clientes` CHANGE `correo` `correo` VARCHAR(100) NOT NULL UNIQUE; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): ALTER TABLE `clientes` CHANGE `telefono` `telefono` VARCHAR(20); ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): ALTER TABLE `clientes` CHANGE `fecha_registro` `fecha_registro` DATE NOT NULL; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): ALTER TABLE `clientes` CHANGE `estado` `estado` TINYINT(1) DEFAULT true; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='clientes' AND constraint_name = 'clientes_ibfk_1' AND TABLE_SCHEMA = 'gym_db'; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): ALTER TABLE `clientes` DROP FOREIGN KEY `clientes_ibfk_1`; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): ALTER TABLE `clientes` ADD FOREIGN KEY (`membresia_id`) REFERENCES `membresias` (`id_membresia`) ON DELETE SET NULL ON UPDATE CASCADE; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): SHOW INDEX FROM `clientes` ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'pagos' AND TABLE_SCHEMA = 'gym_db' ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): SHOW FULL COLUMNS FROM `pagos`; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'pagos' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='gym_db' AND REFERENCED_TABLE_NAME IS NOT NULL; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): ALTER TABLE `pagos` CHANGE `monto` `monto` DECIMAL(10,2) NOT NULL; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): ALTER TABLE `pagos` CHANGE `fecha_pago` `fecha_pago` DATE NOT NULL; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): ALTER TABLE `pagos` CHANGE `metodo_pago` `metodo_pago` ENUM('Efectivo', 'Tarjeta', 'Transferencia') NOT NULL; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='pagos' AND constraint_name = 'pagos_ibfk_1' AND TABLE_SCHEMA = 'gym_db'; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): ALTER TABLE `pagos` DROP FOREIGN KEY `pagos_ibfk_1`; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): ALTER TABLE `pagos` ADD FOREIGN KEY (`cliente_id`) REFERENCES `clientes` (`id_cliente`) ON DELETE CASCADE ON UPDATE CASCADE; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): SHOW INDEX FROM `pagos` ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'visitas' AND TABLE_SCHEMA = 'gym_db' ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): SHOW FULL COLUMNS FROM `visitas`; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'visitas' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='gym_db' AND REFERENCED_TABLE_NAME IS NOT NULL; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): ALTER TABLE `visitas` CHANGE `fecha_visita` `fecha_visita` DATETIME NOT NULL; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='visitas' AND constraint_name = 'visitas_ibfk_1' AND TABLE_SCHEMA = 'gym_db'; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): ALTER TABLE `visitas` DROP FOREIGN KEY `visitas_ibfk_1`; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): ALTER TABLE `visitas` ADD FOREIGN KEY (`cliente_id`) REFERENCES `clientes` (`id_cliente`) ON DELETE CASCADE ON UPDATE CASCADE; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): SHOW INDEX FROM `visitas` ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'trabajadores' AND TABLE_SCHEMA = 'gym_db' ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): SHOW FULL COLUMNS FROM `trabajadores`; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'trabajadores' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='gym_db' AND REFERENCED_TABLE_NAME IS NOT NULL; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): ALTER TABLE `trabajadores` CHANGE `nombre` `nombre` VARCHAR(100) NOT NULL; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): ALTER TABLE `trabajadores` CHANGE `apellido` `apellido` VARCHAR(100) NOT NULL; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): ALTER TABLE `trabajadores` CHANGE `correo` `correo` VARCHAR(100) NOT NULL UNIQUE; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): ALTER TABLE `trabajadores` CHANGE `telefono` `telefono` VARCHAR(20); ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): ALTER TABLE `trabajadores` CHANGE `estado` `estado` TINYINT(1) DEFAULT true; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='trabajadores' AND constraint_name = 'trabajadores_ibfk_1' AND TABLE_SCHEMA = 'gym_db'; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): ALTER TABLE `trabajadores` DROP FOREIGN KEY `trabajadores_ibfk_1`; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): ALTER TABLE `trabajadores` ADD FOREIGN KEY (`rol_id`) REFERENCES `roles` (`id`) ON DELETE RESTRICT ON UPDATE CASCADE; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): SHOW INDEX FROM `trabajadores` ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'profesores' AND TABLE_SCHEMA = 'gym_db' ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): SHOW FULL COLUMNS FROM `profesores`; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'profesores' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='gym_db' AND REFERENCED_TABLE_NAME IS NOT NULL; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): ALTER TABLE `profesores` CHANGE `nombre` `nombre` VARCHAR(100) NOT NULL; ([object Object]ms)
2025-07-10 19:31:23 [SQL]: Executing (default): ALTER TABLE `profesores` CHANGE `especialidad` `especialidad` VARCHAR(100); ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): ALTER TABLE `profesores` CHANGE `correo` `correo` VARCHAR(100) NOT NULL UNIQUE; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): ALTER TABLE `profesores` CHANGE `estado` `estado` TINYINT(1) DEFAULT true; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): SHOW INDEX FROM `profesores` ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'clases' AND TABLE_SCHEMA = 'gym_db' ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): SHOW FULL COLUMNS FROM `clases`; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'clases' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='gym_db' AND REFERENCED_TABLE_NAME IS NOT NULL; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): ALTER TABLE `clases` CHANGE `nombre` `nombre` VARCHAR(100) NOT NULL; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): ALTER TABLE `clases` CHANGE `descripcion` `descripcion` TEXT; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): ALTER TABLE `clases` CHANGE `horario` `horario` VARCHAR(100) NOT NULL; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='clases' AND constraint_name = 'clases_ibfk_1' AND TABLE_SCHEMA = 'gym_db'; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): ALTER TABLE `clases` DROP FOREIGN KEY `clases_ibfk_1`; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): ALTER TABLE `clases` ADD FOREIGN KEY (`profesor_id`) REFERENCES `profesores` (`id_profesor`) ON DELETE SET NULL ON UPDATE CASCADE; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): SHOW INDEX FROM `clases` ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'reservas' AND TABLE_SCHEMA = 'gym_db' ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): SHOW FULL COLUMNS FROM `reservas`; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'reservas' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='gym_db' AND REFERENCED_TABLE_NAME IS NOT NULL; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): ALTER TABLE `reservas` CHANGE `fecha_reserva` `fecha_reserva` DATETIME NOT NULL; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): ALTER TABLE `reservas` CHANGE `estado` `estado` ENUM('Confirmada', 'Cancelada', 'Completada') NOT NULL DEFAULT 'Confirmada'; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='reservas' AND constraint_name = 'reservas_ibfk_13' AND TABLE_SCHEMA = 'gym_db'; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): ALTER TABLE `reservas` DROP FOREIGN KEY `reservas_ibfk_13`; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): ALTER TABLE `reservas` ADD FOREIGN KEY (`cliente_id`) REFERENCES `clientes` (`id_cliente`) ON DELETE CASCADE ON UPDATE CASCADE; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='reservas' AND constraint_name = 'reservas_ibfk_14' AND TABLE_SCHEMA = 'gym_db'; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): ALTER TABLE `reservas` DROP FOREIGN KEY `reservas_ibfk_14`; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): ALTER TABLE `reservas` ADD FOREIGN KEY (`clase_id`) REFERENCES `clases` (`id_clase`) ON DELETE CASCADE ON UPDATE CASCADE; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): SHOW INDEX FROM `reservas` ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'fichas_entrenamiento' AND TABLE_SCHEMA = 'gym_db' ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): SHOW FULL COLUMNS FROM `fichas_entrenamiento`; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'fichas_entrenamiento' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='gym_db' AND REFERENCED_TABLE_NAME IS NOT NULL; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): ALTER TABLE `fichas_entrenamiento` CHANGE `descripcion` `descripcion` TEXT NOT NULL; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): ALTER TABLE `fichas_entrenamiento` CHANGE `fecha_creacion` `fecha_creacion` DATE NOT NULL; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='fichas_entrenamiento' AND constraint_name = 'fichas_entrenamiento_ibfk_13' AND TABLE_SCHEMA = 'gym_db'; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): ALTER TABLE `fichas_entrenamiento` DROP FOREIGN KEY `fichas_entrenamiento_ibfk_13`; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): ALTER TABLE `fichas_entrenamiento` ADD FOREIGN KEY (`cliente_id`) REFERENCES `clientes` (`id_cliente`) ON DELETE CASCADE ON UPDATE CASCADE; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='fichas_entrenamiento' AND constraint_name = 'fichas_entrenamiento_ibfk_14' AND TABLE_SCHEMA = 'gym_db'; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): ALTER TABLE `fichas_entrenamiento` DROP FOREIGN KEY `fichas_entrenamiento_ibfk_14`; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): ALTER TABLE `fichas_entrenamiento` ADD FOREIGN KEY (`profesor_id`) REFERENCES `profesores` (`id_profesor`) ON DELETE SET NULL ON UPDATE CASCADE; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): SHOW INDEX FROM `fichas_entrenamiento` ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'productos' AND TABLE_SCHEMA = 'gym_db' ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): SHOW FULL COLUMNS FROM `productos`; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'productos' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='gym_db' AND REFERENCED_TABLE_NAME IS NOT NULL; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): ALTER TABLE `productos` CHANGE `nombre` `nombre` VARCHAR(100) NOT NULL UNIQUE; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): ALTER TABLE `productos` CHANGE `precio` `precio` DECIMAL(10,2) NOT NULL; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): ALTER TABLE `productos` CHANGE `descripcion` `descripcion` TEXT; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): ALTER TABLE `productos` CHANGE `categoria` `categoria` VARCHAR(100); ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): SHOW INDEX FROM `productos` ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'inventario' AND TABLE_SCHEMA = 'gym_db' ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): SHOW FULL COLUMNS FROM `inventario`; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'inventario' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='gym_db' AND REFERENCED_TABLE_NAME IS NOT NULL; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): ALTER TABLE `inventario` CHANGE `cantidad` `cantidad` INTEGER NOT NULL DEFAULT 0; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): ALTER TABLE `inventario` CHANGE `fecha_actualizacion` `fecha_actualizacion` DATE NOT NULL; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='inventario' AND constraint_name = 'inventario_ibfk_1' AND TABLE_SCHEMA = 'gym_db'; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): ALTER TABLE `inventario` DROP FOREIGN KEY `inventario_ibfk_1`; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): ALTER TABLE `inventario` ADD FOREIGN KEY (`producto_id`) REFERENCES `productos` (`id_producto`) ON DELETE CASCADE ON UPDATE CASCADE; ([object Object]ms)
2025-07-10 19:31:24 [SQL]: Executing (default): SHOW INDEX FROM `inventario` ([object Object]ms)
2025-07-10 19:31:24 [INFO]: ðŸ”„ Modelos sincronizados con la base de datos
2025-07-10 19:31:24 [INFO]: ðŸš€ Servidor corriendo en http://localhost:3000
2025-07-10 19:31:24 [INFO]: ðŸ“Œ Entorno: development
2025-07-10 19:31:24 [INFO]: ðŸ’¾ Base de datos: gym_db
2025-07-10 19:31:35 [WARN]: ConexiÃ³n con la base de datos cerrada
2025-07-10 19:31:35 [WARN]: ConexiÃ³n con la base de datos cerrada
